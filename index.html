<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kis Herceg â€“ RendelÃ©s keresÅ‘</title>
<style>
  body{font-family:Arial;max-width:640px;margin:auto;padding:18px}
  input{width:100%;padding:12px;font-size:16px;box-sizing:border-box}
  button{margin-top:10px;padding:12px;width:100%;font-size:16px;cursor:pointer}
  .box{margin-top:14px;padding:12px;border:1px solid #ddd;border-radius:10px}
</style>
</head>
<body>
<h2>ğŸ“š Kis Herceg â€“ NÃ©v szerinti keresÅ‘</h2>
<p>Ãrd be a neved, Ã©s kilistÃ¡zzuk a tÃ©teleidet.</p>

<input id="name" placeholder="Pl. BÃ­rÃ³ RÃ©ka">
<button onclick="search()">KeresÃ©s</button>

<div class="box" id="result">ğŸ” KeresÃ©shez Ã­rd be a neved.</div>

<script>
async function search() {
  const q = document.getElementById("name").value.trim().toLowerCase();
  const result = document.getElementById("result");
  if (!q) { result.innerHTML = "Ãrj be egy nevet ğŸ™‚"; return; }

  const res = await fetch("rendeles.txt", { cache: "no-store" });
  const text = await res.text();

  // Sorokra bontÃ¡s
  const lines = text.split(/\r?\n/).map(l => l.trim()).filter(Boolean);

  // TalÃ¡latok gyÅ±jtÃ©se: a nÃ©v kÃ¶rnyezetÃ©bÅ‘l szedjÃ¼k a tÃ©teleket
  let hits = [];
  let currentName = "";

  lines.forEach(line => {
    // Ha ez egy nÃ©v (feltÃ©telezzÃ¼k: nincs Ã¡r benne)
    if (!line.match(/\d+\s*(lej|ron|ft)/i) && line.split(" ").length <= 4) {
      currentName = line.toLowerCase();
    } else if (currentName.includes(q)) {
      hits.push(line);
    }
  });

  if (hits.length === 0) {
    result.innerHTML = "âŒ Jelenleg nincs nÃ©vre szÃ³lÃ³ csomag.";
    return;
  }

  let html = "âœ… Neked Ã©rkezett:<br><br>";
  hits.forEach(h => {
    html += "â€¢ " + h + "<br>";
  });

  result.innerHTML = html;
}
</script>
</body>
</html>
